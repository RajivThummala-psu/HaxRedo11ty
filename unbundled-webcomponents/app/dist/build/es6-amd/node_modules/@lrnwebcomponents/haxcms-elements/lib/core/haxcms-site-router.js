define(["exports","../../../../@vaadin/router/dist/vaadin-router.js","../../../../mobx/lib/mobx.module.js","./haxcms-site-store.js"],(function(_exports,_vaadinRouter,_mobxModule,_haxcmsSiteStore){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.HAXCMSSiteRouter=void 0;class HAXCMSSiteRouter extends HTMLElement{static get tag(){return"haxcms-site-router"}constructor(){super();let options={};this.baseURI&&(options.baseUrl=this.baseURI),this.router=new _vaadinRouter.Router(this,options),this.__disposer=(0,_mobxModule.autorun)(()=>{this._updateRouter(_haxcmsSiteStore.store.routerManifest)}),window.addEventListener("vaadin-router-location-changed",this._routerLocationChanged.bind(this))}disconnectedCallback(){this.__disposer(),window.removeEventListener("vaadin-router-location-changed",this._routerLocationChanged.bind(this)),super.disconnectedCallback()}_updateRouter(routerManifest){if(!routerManifest||void 0===routerManifest.items)return;const routerItems=routerManifest.items.map(i=>({path:i.slug,name:i.id,component:`fake-${i.id}-e`}));this.router.setRoutes([...routerItems,{path:"/",component:"fake-home-e",name:"home"},{path:"/(.*)",component:"fake-404-e",name:"404"}])}_routerLocationChanged(e){_haxcmsSiteStore.store.location=e.detail.location}}_exports.HAXCMSSiteRouter=HAXCMSSiteRouter,window.customElements.define(HAXCMSSiteRouter.tag,HAXCMSSiteRouter)}));